(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(26)},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(6),o=n.n(r),c=n(2),u=n(3),i=n.n(u),l=n(1),m=n(11),p=function(e){var t=e.user;return s.a.createElement("div",{className:"post__author author"},s.a.createElement("p",null,"Post by:"," ",t.name," ","from"," ",t.address.city),s.a.createElement("p",null,t.email))},d=n(7),f=Object(d.b)(function(e,t){switch(t.type){case"SET_POSTS":return Object(l.a)({},e,{allPosts:t.allPosts});case"SET_VISIBLE_POSTS":return Object(l.a)({},e,{visiblePosts:t.visiblePosts});case"DELETE_POST":return Object(l.a)({},e,{visiblePosts:e.visiblePosts.filter(function(e){return e.id!==t.postId})});case"DELETE_COMMENT":return Object(l.a)({},e,{visiblePosts:e.visiblePosts.map(function(e){return e.id===t.postId&&(e.comments=e.comments.filter(function(e){return e.id!==t.commentId})),Object(l.a)({},e,{comments:e.comments})})});case"START_LOADING":return Object(l.a)({},e,{isLoading:!0});case"FINISH_LOADING":return Object(l.a)({},e,{isLoading:!1});case"LOADING_BUTTON_IS_OFF":return Object(l.a)({},e,{loadingButton:!1});default:return e}},{allPosts:[],visiblePosts:[],isLoading:!1,loadingButton:!0}),b={deleteComment:function(e,t){return{type:"DELETE_COMMENT",commentId:e,postId:t}}},E=Object(c.b)(null,b)(function(e){var t=e.comment,n=e.deleteComment;return s.a.createElement("div",{className:"comments__item"},s.a.createElement("li",{className:"comments__name"},t.name,s.a.createElement("span",null,s.a.createElement("button",{type:"button",className:"post__button",onClick:function(){return n(t.id,t.postId)}},"X"))),s.a.createElement("p",{className:"comments__email"},"By"," ",t.email),s.a.createElement("p",{className:"comments__text"},t.body))}),_=function(e){var t=e.comments;return s.a.createElement("div",{className:"post__comments comments"},s.a.createElement("p",null,"Comments:"),s.a.createElement("ul",{className:"comments__list"},t.map(function(e){return s.a.createElement(E,{comment:e})})))},v={deletePost:function(e){return{type:"DELETE_POST",postId:e}}},O=Object(c.b)(null,v)(function(e){var t=e.post,n=e.deletePost;return s.a.createElement("div",{className:"post"},s.a.createElement("button",{type:"button",className:"post__button",onClick:function(){return n(t.id)}},"X"),s.a.createElement("p",{className:"post__title"},t.title),s.a.createElement("p",{className:"post__body"},t.body),s.a.createElement(p,{user:t.user}),s.a.createElement(_,{comments:t.comments}))}),P=Object(c.b)(function(e){return{posts:e.visiblePosts}})(function(e){return e.posts.map(function(e){return s.a.createElement(O,{post:e})})}),N=(n(25),function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})}),y=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},L=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},h={setPosts:function(e){return{type:"SET_POSTS",allPosts:e}},startLoading:function(){return{type:"START_LOADING"}},finishLoading:function(){return{type:"FINISH_LOADING"}},hideLoadingButton:function(){return{type:"LOADING_BUTTON_IS_OFF"}},setVisiblePosts:function(e){return{type:"SET_VISIBLE_POSTS",visiblePosts:e}}},I=Object(c.b)(function(e){return{isLoading:e.isLoading,loadingButton:e.loadingButton,allPosts:e.allPosts,countPosts:e.visiblePosts.length}},h)(function(e){var t=e.startLoading,n=e.finishLoading,r=e.hideLoadingButton,o=e.setPosts,c=e.isLoading,u=e.loadingButton,p=e.setVisiblePosts,d=e.allPosts,f=e.countPosts,b=Object(a.useState)(""),E=Object(m.a)(b,2),_=E[0],v=E[1],O=Object(a.useCallback)(function(e,t){var n=0;return function(){clearTimeout(n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];n=setTimeout.apply(void 0,[e,t].concat(s))}}(function(e){p(d.filter(function(t){return(t.title+t.body).includes(e)}))},1e3),[d]);return c?s.a.createElement("h1",{className:"App"},"Loading..."):u?s.a.createElement("div",{className:"box"},s.a.createElement("button",{type:"button",onClick:function(){var e,a,s,c,u,d;return i.a.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t(),f.next=3,i.a.awrap(Promise.all([N(),y(),L()]));case 3:return e=f.sent,a=Object(m.a)(e,3),s=a[0],c=a[1],u=a[2],n(),r(),d=s.map(function(e){return Object(l.a)({},e,{user:u.find(function(t){return t.id===e.userId}),comments:c.filter(function(t){return t.postId===e.id})})}),o(d),p(d),f.abrupt("return",d);case 14:case"end":return f.stop()}})},className:"filter__button button"},"Load posts")):s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"filter"},s.a.createElement("h1",null,"Redux List of Posts -"," ",f),s.a.createElement("input",{type:"text",className:"filter__input",value:_,onChange:function(e){v(e.target.value),O(e.target.value)}})),s.a.createElement(P,null))});o.a.render(s.a.createElement(c.a,{store:f},s.a.createElement(I,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.ab8b490b.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,n){t.exports=n(26)},25:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),r=n(6),o=n.n(r),c=n(2),u=n(3),l=n.n(u),i=n(1),m=n(11),p=function(t){var e=t.user;return s.a.createElement("div",{className:"post__author author"},s.a.createElement("p",null,"Post by:"," ",e.name," ","from"," ",e.address.city),s.a.createElement("p",null,e.email))},d=n(7),f=Object(d.b)(function(t,e){switch(e.type){case"SET_POSTS":return Object(i.a)({},t,{allPosts:e.allPosts});case"SET_VISIBLE_POSTS":return Object(i.a)({},t,{visiblePosts:e.visiblePosts});case"DELETE_POST":return Object(i.a)({},t,{allPosts:t.allPosts.filter(function(t){return t.id!==e.postId})});case"DELETE_COMMENT":return Object(i.a)({},t,{allPosts:t.allPosts.map(function(t){return t.id===e.postId&&(t.comments=t.comments.filter(function(t){return t.id!==e.commentId})),Object(i.a)({},t,{comments:t.comments})})});case"START_LOADING":return Object(i.a)({},t,{isLoading:!0});case"FINISH_LOADING":return Object(i.a)({},t,{isLoading:!1});case"LOADING_BUTTON_IS_OFF":return Object(i.a)({},t,{loadingButton:!1});default:return t}},{allPosts:[],visiblePosts:[],isLoading:!1,loadingButton:!0}),b={deleteComment:function(t,e){return{type:"DELETE_COMMENT",commentId:t,postId:e}}},E=Object(c.b)(null,b)(function(t){var e=t.comment,n=t.deleteComment;return s.a.createElement("div",{className:"comments__item"},s.a.createElement("li",{className:"comments__name"},e.name,s.a.createElement("span",null,s.a.createElement("button",{type:"button",className:"post__button",onClick:function(){return n(e.id,e.postId)}},"X"))),s.a.createElement("p",{className:"comments__email"},"By"," ",e.email),s.a.createElement("p",{className:"comments__text"},e.body))}),_=function(t){var e=t.comments;return s.a.createElement("div",{className:"post__comments comments"},s.a.createElement("p",null,"Comments:"),s.a.createElement("ul",{className:"comments__list"},e.map(function(t){return s.a.createElement(E,{comment:t})})))},O={deletePost:function(t){return{type:"DELETE_POST",postId:t}}},P=Object(c.b)(null,O)(function(t){var e=t.post,n=t.deletePost;return s.a.createElement("div",{className:"post"},s.a.createElement("button",{type:"button",className:"post__button",onClick:function(){return n(e.id)}},"X"),s.a.createElement("p",{className:"post__title"},e.title),s.a.createElement("p",{className:"post__body"},e.body),s.a.createElement(p,{user:e.user}),s.a.createElement(_,{comments:e.comments}))}),v=Object(c.b)(function(t){return{posts:t.visiblePosts}})(function(t){return t.posts.map(function(t){return s.a.createElement(P,{post:t})})}),N=(n(25),function(){var t;return l.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}})}),y=function(){var t;return l.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}})},L=function(){var t;return l.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}})},h={setPosts:function(t){return{type:"SET_POSTS",allPosts:t}},startLoading:function(){return{type:"START_LOADING"}},finishLoading:function(){return{type:"FINISH_LOADING"}},hideLoadingButton:function(){return{type:"LOADING_BUTTON_IS_OFF"}},setVisiblePosts:function(t){return{type:"SET_VISIBLE_POSTS",visiblePosts:t}}},I=Object(c.b)(function(t){return{isLoading:t.isLoading,loadingButton:t.loadingButton,allPosts:t.allPosts,countPosts:t.visiblePosts.length}},h)(function(t){var e=t.startLoading,n=t.finishLoading,r=t.hideLoadingButton,o=t.setPosts,c=t.isLoading,u=t.loadingButton,p=t.setVisiblePosts,d=t.allPosts,f=t.countPosts,b=Object(a.useState)(""),E=Object(m.a)(b,2),_=E[0],O=E[1],P=Object(a.useCallback)(function(t,e){var n=0;return function(){clearTimeout(n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];n=setTimeout.apply(void 0,[t,e].concat(s))}}(function(t){p(d.filter(function(e){return(e.title+e.body).includes(t)}))},1e3),[d]);return c?s.a.createElement("h1",{className:"App"},"Loading..."):u?s.a.createElement("div",{className:"box"},s.a.createElement("button",{type:"button",onClick:function(){var t,a,s,c,u,d;return l.a.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e(),f.next=3,l.a.awrap(Promise.all([N(),y(),L()]));case 3:return t=f.sent,a=Object(m.a)(t,3),s=a[0],c=a[1],u=a[2],n(),r(),d=s.map(function(t){return Object(i.a)({},t,{user:u.find(function(e){return e.id===t.userId}),comments:c.filter(function(e){return e.postId===t.id})})}),o(d),p(d),f.abrupt("return",d);case 14:case"end":return f.stop()}})},className:"filter__button button"},"Load posts")):s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"filter"},s.a.createElement("h1",null,"Redux List of Posts -"," ",f),s.a.createElement("input",{type:"text",className:"filter__input",value:_,onChange:function(t){O(t.target.value),P(t.target.value)}})),s.a.createElement(v,null))});o.a.render(s.a.createElement(c.a,{store:f},s.a.createElement(I,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.62fb2523.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,n){t.exports=n(26)},25:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var s=n(0),a=n.n(s),o=n(6),r=n.n(o),c=n(2),u=n(3),i=n.n(u),l=n(1),m=n(11),p=function(t){var e=t.user;return a.a.createElement("div",{className:"post__author author"},a.a.createElement("p",null,"Post by:"," ",e.name," ","from"," ",e.address.city),a.a.createElement("p",null,e.email))},d=n(7),f=Object(d.b)(function(t,e){switch(e.type){case"SET_POSTS":return Object(l.a)({},t,{allPosts:e.allPosts});case"SET_VISIBLE_POSTS":return Object(l.a)({},t,{visiblePosts:e.visiblePosts});case"DELETE_POST":return Object(l.a)({},t,{visiblePosts:t.visiblePosts.filter(function(t){return t.id!==e.postId}),allPosts:t.allPosts.filter(function(t){return t.id!==e.postId})});case"DELETE_COMMENT":return Object(l.a)({},t,{visiblePosts:t.visiblePosts.map(function(t){return t.id===e.postId&&(t.comments=t.comments.filter(function(t){return t.id!==e.commentId})),Object(l.a)({},t,{comments:t.comments})}),allPosts:t.allPosts.map(function(t){return t.id===e.postId&&(t.comments=t.comments.filter(function(t){return t.id!==e.commentId})),Object(l.a)({},t,{comments:t.comments})})});case"START_LOADING":return Object(l.a)({},t,{isLoading:!0});case"FINISH_LOADING":return Object(l.a)({},t,{isLoading:!1});case"LOADING_BUTTON_IS_OFF":return Object(l.a)({},t,{loadingButton:!1});default:return t}},{allPosts:[],visiblePosts:[],isLoading:!1,loadingButton:!0}),b={deleteComment:function(t,e){return{type:"DELETE_COMMENT",commentId:t,postId:e}}},E=Object(c.b)(null,b)(function(t){var e=t.comment,n=t.deleteComment;return a.a.createElement("div",{className:"comments__item"},a.a.createElement("li",{className:"comments__name"},e.name,a.a.createElement("span",null,a.a.createElement("button",{type:"button",className:"post__button",onClick:function(){return n(e.id,e.postId)}},"X"))),a.a.createElement("p",{className:"comments__email"},"By"," ",e.email),a.a.createElement("p",{className:"comments__text"},e.body))}),_=function(t){var e=t.comments;return a.a.createElement("div",{className:"post__comments comments"},a.a.createElement("p",null,"Comments:"),a.a.createElement("ul",{className:"comments__list"},e.map(function(t){return a.a.createElement(E,{comment:t})})))},P={deletePost:function(t){return{type:"DELETE_POST",postId:t}}},v=Object(c.b)(null,P)(function(t){var e=t.post,n=t.deletePost;return a.a.createElement("div",{className:"post"},a.a.createElement("button",{type:"button",className:"post__button",onClick:function(){return n(e.id)}},"X"),a.a.createElement("p",{className:"post__title"},e.title),a.a.createElement("p",{className:"post__body"},e.body),a.a.createElement(p,{user:e.user}),a.a.createElement(_,{comments:e.comments}))}),O=Object(c.b)(function(t){return{posts:t.visiblePosts}})(function(t){return t.posts.map(function(t){return a.a.createElement(v,{post:t})})}),N=(n(25),function(){var t;return i.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}})}),y=function(){var t;return i.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}})},I=function(){var t;return i.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}})},L={setPosts:function(t){return{type:"SET_POSTS",allPosts:t}},startLoading:function(){return{type:"START_LOADING"}},finishLoading:function(){return{type:"FINISH_LOADING"}},hideLoadingButton:function(){return{type:"LOADING_BUTTON_IS_OFF"}},setVisiblePosts:function(t){return{type:"SET_VISIBLE_POSTS",visiblePosts:t}}},h=Object(c.b)(function(t){return{isLoading:t.isLoading,loadingButton:t.loadingButton,allPosts:t.allPosts,countPosts:t.visiblePosts.length}},L)(function(t){var e=t.startLoading,n=t.finishLoading,o=t.hideLoadingButton,r=t.setPosts,c=t.isLoading,u=t.loadingButton,p=t.setVisiblePosts,d=t.allPosts,f=t.countPosts,b=Object(s.useState)(""),E=Object(m.a)(b,2),_=E[0],P=E[1],v=Object(s.useCallback)(function(t,e){var n=0;return function(){clearTimeout(n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n=setTimeout.apply(void 0,[t,e].concat(a))}}(function(t){p(d.filter(function(e){return(e.title+e.body).includes(t)}))},1e3),[d]);return c?a.a.createElement("h1",{className:"App"},"Loading..."):u?a.a.createElement("div",{className:"box"},a.a.createElement("button",{type:"button",onClick:function(){var t,s,a,c,u,d;return i.a.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e(),f.next=3,i.a.awrap(Promise.all([N(),y(),I()]));case 3:return t=f.sent,s=Object(m.a)(t,3),a=s[0],c=s[1],u=s[2],n(),o(),d=a.map(function(t){return Object(l.a)({},t,{user:u.find(function(e){return e.id===t.userId}),comments:c.filter(function(e){return e.postId===t.id})})}),r(d),p(d),f.abrupt("return",d);case 14:case"end":return f.stop()}})},className:"filter__button button"},"Load posts")):a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"filter"},a.a.createElement("h1",null,"Redux List of Posts -"," ",f),a.a.createElement("input",{type:"text",className:"filter__input",value:_,onChange:function(t){P(t.target.value),v(t.target.value)}})),a.a.createElement(O,null))});r.a.render(a.a.createElement(c.a,{store:f},a.a.createElement(h,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f4dac3ab.chunk.js.map